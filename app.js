const items = [
  {
    label: "надежность",
    title: "Долговечность и надежность",
    desc: [
      "Цистерна и баки для воды выполнены из нержавеющей стали, что значительно увеличивает срок службы",
      "Толщина стенок основной цистерны и баков для воды 5 мм",
      "V-образные ребра жесткости по всей длине баков для воды повышают устойчивость к деформации",
      "Вся водяная система выполнена из нержавеющей стали для предотвращения коррозии",
      "Дополнительно установлен фильтр Jurop для защиты насоса высокого давления",
    ],
    svg: `<svg width="600" height="600" viewBox="0 0 600 600" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="600" height="600" fill="#F7F7F7"/>
  <path d="M366.516 350.125C369.421 351.987 373.289 351.143 375.151 348.24C398.604 311.697 402.671 262.769 403.691 229.146C403.777 226.328 401.965 223.804 399.27 222.979C373.616 215.139 353.674 195.127 345.928 169.446C345.132 166.807 342.703 165 339.946 165H259.67C256.914 165 254.482 166.807 253.687 169.446C245.94 195.127 225.999 215.139 200.344 222.979C197.649 223.804 195.84 226.328 195.923 229.146C196.931 262.332 200.908 310.662 223.733 347.09C240.076 373.176 264.363 390.859 297.979 401.147C298.574 401.331 299.19 401.421 299.807 401.421C300.425 401.421 301.04 401.331 301.636 401.147C314.998 397.058 327.07 391.697 337.517 385.215C340.452 383.396 341.355 379.543 339.534 376.609C337.715 373.677 333.86 372.773 330.928 374.592C321.87 380.215 311.409 384.929 299.807 388.625C270.142 379.182 248.709 363.411 234.326 340.454C214.126 308.215 209.778 264.868 208.577 233.403C234.553 223.975 254.895 203.53 264.19 177.5H335.425C344.719 203.53 365.061 223.975 391.038 233.403C389.822 265.273 385.381 309.155 364.631 341.487C362.769 344.392 363.611 348.259 366.516 350.125Z" fill="#BF9C56"/>
  <path d="M390.142 370.43C396.694 361.665 402.385 352.017 407.163 341.541C426.509 299.106 428.992 247.732 428.992 207.717C428.992 204.265 426.194 201.467 422.742 201.467C392.295 201.467 367.524 176.697 367.524 146.25C367.524 142.798 364.727 140 361.274 140H238.342C234.89 140 232.092 142.798 232.092 146.25C232.092 153.069 230.862 159.729 228.435 166.042C227.197 169.265 228.804 172.881 232.026 174.119C235.249 175.356 238.865 173.75 240.103 170.527C242.334 164.719 243.74 158.679 244.307 152.5H355.31C358.284 184.856 384.116 210.693 416.47 213.677C415.828 302.329 400.068 386.98 299.807 414.697C199.546 386.982 183.789 302.332 183.145 213.679C189.319 213.113 195.354 211.707 201.157 209.478C204.377 208.237 205.986 204.624 204.749 201.401C203.511 198.179 199.895 196.57 196.672 197.808C190.356 200.237 183.696 201.467 176.875 201.467C173.423 201.467 170.625 204.265 170.625 207.717C170.625 247.732 173.105 299.106 192.454 341.541C197.229 352.017 202.92 361.665 209.475 370.43L172.456 407.449C170.784 409.119 170.198 411.592 170.942 413.833C171.687 416.077 173.633 417.71 175.972 418.052L207.905 422.72L212.573 454.653C212.915 456.992 214.548 458.938 216.792 459.683C217.437 459.897 218.098 460 218.757 460C220.388 460 221.987 459.36 223.176 458.169L265.808 415.537C275.806 420.21 286.619 424.111 298.191 427.212C298.721 427.354 299.265 427.424 299.807 427.424C300.352 427.424 300.896 427.354 301.426 427.212C312.998 424.111 323.809 420.21 333.809 415.537L376.438 458.169C377.629 459.36 379.226 460 380.859 460C381.516 460 382.18 459.897 382.825 459.683C385.068 458.938 386.702 456.992 387.043 454.653L391.711 422.72L423.645 418.052C425.984 417.71 427.93 416.077 428.674 413.833C429.416 411.592 428.831 409.119 427.161 407.449L390.142 370.43Z" fill="#BF9C56"/>
</svg>
`,
  },
  {
    label: "Универсальность",
    title: "Долговечность и надежность",
    desc: "Цистерна и баки для воды выполнены из нержавеющей стали, что значительно увеличивает срок службы;<br>Толщина стенок основной цистерны и баков для воды 5 мм;<br>V-образные ребра жесткости по всей длине баков для воды повышают устойчивость к деформации;<br>Вся водяная система (соединения, трубы, штуцера, и т.д.) выполнены из нержавеющей стали для предотвращения образования и попадания коррозии в насосы высокого давления;<br>Для более высокой надежности, дополнительно установлен фильтр Jurop на водяной системе для защиты насоса высокого давления.",
    svg: `<svg width="600" height="600" viewBox="0 0 600 600" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="600" height="600" fill="#F7F7F7"/>
  <path d="M366.516 350.125C369.421 351.987 373.289 351.143 375.151 348.24C398.604 311.697 402.671 262.769 403.691 229.146C403.777 226.328 401.965 223.804 399.27 222.979C373.616 215.139 353.674 195.127 345.928 169.446C345.132 166.807 342.703 165 339.946 165H259.67C256.914 165 254.482 166.807 253.687 169.446C245.94 195.127 225.999 215.139 200.344 222.979C197.649 223.804 195.84 226.328 195.923 229.146C196.931 262.332 200.908 310.662 223.733 347.09C240.076 373.176 264.363 390.859 297.979 401.147C298.574 401.331 299.19 401.421 299.807 401.421C300.425 401.421 301.04 401.331 301.636 401.147C314.998 397.058 327.07 391.697 337.517 385.215C340.452 383.396 341.355 379.543 339.534 376.609C337.715 373.677 333.86 372.773 330.928 374.592C321.87 380.215 311.409 384.929 299.807 388.625C270.142 379.182 248.709 363.411 234.326 340.454C214.126 308.215 209.778 264.868 208.577 233.403C234.553 223.975 254.895 203.53 264.19 177.5H335.425C344.719 203.53 365.061 223.975 391.038 233.403C389.822 265.273 385.381 309.155 364.631 341.487C362.769 344.392 363.611 348.259 366.516 350.125Z" fill="#BF9C56"/>
  <path d="M390.142 370.43C396.694 361.665 402.385 352.017 407.163 341.541C426.509 299.106 428.992 247.732 428.992 207.717C428.992 204.265 426.194 201.467 422.742 201.467C392.295 201.467 367.524 176.697 367.524 146.25C367.524 142.798 364.727 140 361.274 140H238.342C234.89 140 232.092 142.798 232.092 146.25C232.092 153.069 230.862 159.729 228.435 166.042C227.197 169.265 228.804 172.881 232.026 174.119C235.249 175.356 238.865 173.75 240.103 170.527C242.334 164.719 243.74 158.679 244.307 152.5H355.31C358.284 184.856 384.116 210.693 416.47 213.677C415.828 302.329 400.068 386.98 299.807 414.697C199.546 386.982 183.789 302.332 183.145 213.679C189.319 213.113 195.354 211.707 201.157 209.478C204.377 208.237 205.986 204.624 204.749 201.401C203.511 198.179 199.895 196.57 196.672 197.808C190.356 200.237 183.696 201.467 176.875 201.467C173.423 201.467 170.625 204.265 170.625 207.717C170.625 247.732 173.105 299.106 192.454 341.541C197.229 352.017 202.92 361.665 209.475 370.43L172.456 407.449C170.784 409.119 170.198 411.592 170.942 413.833C171.687 416.077 173.633 417.71 175.972 418.052L207.905 422.72L212.573 454.653C212.915 456.992 214.548 458.938 216.792 459.683C217.437 459.897 218.098 460 218.757 460C220.388 460 221.987 459.36 223.176 458.169L265.808 415.537C275.806 420.21 286.619 424.111 298.191 427.212C298.721 427.354 299.265 427.424 299.807 427.424C300.352 427.424 300.896 427.354 301.426 427.212C312.998 424.111 323.809 420.21 333.809 415.537L376.438 458.169C377.629 459.36 379.226 460 380.859 460C381.516 460 382.18 459.897 382.825 459.683C385.068 458.938 386.702 456.992 387.043 454.653L391.711 422.72L423.645 418.052C425.984 417.71 427.93 416.077 428.674 413.833C429.416 411.592 428.831 409.119 427.161 407.449L390.142 370.43Z" fill="#BF9C56"/>
</svg>
`,
  },
  {
    label: "эффективность",
    title: "Долговечность и надежность",
    desc: "Цистерна и баки для воды выполнены из нержавеющей стали, что значительно увеличивает срок службы;<br>Толщина стенок основной цистерны и баков для воды 5 мм;<br>V-образные ребра жесткости по всей длине баков для воды повышают устойчивость к деформации;<br>Вся водяная система (соединения, трубы, штуцера, и т.д.) выполнены из нержавеющей стали для предотвращения образования и попадания коррозии в насосы высокого давления;<br>Для более высокой надежности, дополнительно установлен фильтр Jurop на водяной системе для защиты насоса высокого давления.",
    svg: `<svg width="600" height="600" viewBox="0 0 600 600" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="600" height="600" fill="#F7F7F7"/>
  <path d="M366.516 350.125C369.421 351.987 373.289 351.143 375.151 348.24C398.604 311.697 402.671 262.769 403.691 229.146C403.777 226.328 401.965 223.804 399.27 222.979C373.616 215.139 353.674 195.127 345.928 169.446C345.132 166.807 342.703 165 339.946 165H259.67C256.914 165 254.482 166.807 253.687 169.446C245.94 195.127 225.999 215.139 200.344 222.979C197.649 223.804 195.84 226.328 195.923 229.146C196.931 262.332 200.908 310.662 223.733 347.09C240.076 373.176 264.363 390.859 297.979 401.147C298.574 401.331 299.19 401.421 299.807 401.421C300.425 401.421 301.04 401.331 301.636 401.147C314.998 397.058 327.07 391.697 337.517 385.215C340.452 383.396 341.355 379.543 339.534 376.609C337.715 373.677 333.86 372.773 330.928 374.592C321.87 380.215 311.409 384.929 299.807 388.625C270.142 379.182 248.709 363.411 234.326 340.454C214.126 308.215 209.778 264.868 208.577 233.403C234.553 223.975 254.895 203.53 264.19 177.5H335.425C344.719 203.53 365.061 223.975 391.038 233.403C389.822 265.273 385.381 309.155 364.631 341.487C362.769 344.392 363.611 348.259 366.516 350.125Z" fill="#BF9C56"/>
  <path d="M390.142 370.43C396.694 361.665 402.385 352.017 407.163 341.541C426.509 299.106 428.992 247.732 428.992 207.717C428.992 204.265 426.194 201.467 422.742 201.467C392.295 201.467 367.524 176.697 367.524 146.25C367.524 142.798 364.727 140 361.274 140H238.342C234.89 140 232.092 142.798 232.092 146.25C232.092 153.069 230.862 159.729 228.435 166.042C227.197 169.265 228.804 172.881 232.026 174.119C235.249 175.356 238.865 173.75 240.103 170.527C242.334 164.719 243.74 158.679 244.307 152.5H355.31C358.284 184.856 384.116 210.693 416.47 213.677C415.828 302.329 400.068 386.98 299.807 414.697C199.546 386.982 183.789 302.332 183.145 213.679C189.319 213.113 195.354 211.707 201.157 209.478C204.377 208.237 205.986 204.624 204.749 201.401C203.511 198.179 199.895 196.57 196.672 197.808C190.356 200.237 183.696 201.467 176.875 201.467C173.423 201.467 170.625 204.265 170.625 207.717C170.625 247.732 173.105 299.106 192.454 341.541C197.229 352.017 202.92 361.665 209.475 370.43L172.456 407.449C170.784 409.119 170.198 411.592 170.942 413.833C171.687 416.077 173.633 417.71 175.972 418.052L207.905 422.72L212.573 454.653C212.915 456.992 214.548 458.938 216.792 459.683C217.437 459.897 218.098 460 218.757 460C220.388 460 221.987 459.36 223.176 458.169L265.808 415.537C275.806 420.21 286.619 424.111 298.191 427.212C298.721 427.354 299.265 427.424 299.807 427.424C300.352 427.424 300.896 427.354 301.426 427.212C312.998 424.111 323.809 420.21 333.809 415.537L376.438 458.169C377.629 459.36 379.226 460 380.859 460C381.516 460 382.18 459.897 382.825 459.683C385.068 458.938 386.702 456.992 387.043 454.653L391.711 422.72L423.645 418.052C425.984 417.71 427.93 416.077 428.674 413.833C429.416 411.592 428.831 409.119 427.161 407.449L390.142 370.43Z" fill="#BF9C56"/>
</svg>
`,
  },
  {
    label: "Температура",
    title: "Долговечность и надежность",
    desc: "Цистерна и баки для воды выполнены из нержавеющей стали, что значительно увеличивает срок службы;<br>Толщина стенок основной цистерны и баков для воды 5 мм;<br>V-образные ребра жесткости по всей длине баков для воды повышают устойчивость к деформации;<br>Вся водяная система (соединения, трубы, штуцера, и т.д.) выполнены из нержавеющей стали для предотвращения образования и попадания коррозии в насосы высокого давления;<br>Для более высокой надежности, дополнительно установлен фильтр Jurop на водяной системе для защиты насоса высокого давления.",
    svg: `<svg width="600" height="600" viewBox="0 0 600 600" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="600" height="600" fill="#F7F7F7"/>
  <path d="M366.516 350.125C369.421 351.987 373.289 351.143 375.151 348.24C398.604 311.697 402.671 262.769 403.691 229.146C403.777 226.328 401.965 223.804 399.27 222.979C373.616 215.139 353.674 195.127 345.928 169.446C345.132 166.807 342.703 165 339.946 165H259.67C256.914 165 254.482 166.807 253.687 169.446C245.94 195.127 225.999 215.139 200.344 222.979C197.649 223.804 195.84 226.328 195.923 229.146C196.931 262.332 200.908 310.662 223.733 347.09C240.076 373.176 264.363 390.859 297.979 401.147C298.574 401.331 299.19 401.421 299.807 401.421C300.425 401.421 301.04 401.331 301.636 401.147C314.998 397.058 327.07 391.697 337.517 385.215C340.452 383.396 341.355 379.543 339.534 376.609C337.715 373.677 333.86 372.773 330.928 374.592C321.87 380.215 311.409 384.929 299.807 388.625C270.142 379.182 248.709 363.411 234.326 340.454C214.126 308.215 209.778 264.868 208.577 233.403C234.553 223.975 254.895 203.53 264.19 177.5H335.425C344.719 203.53 365.061 223.975 391.038 233.403C389.822 265.273 385.381 309.155 364.631 341.487C362.769 344.392 363.611 348.259 366.516 350.125Z" fill="#BF9C56"/>
  <path d="M390.142 370.43C396.694 361.665 402.385 352.017 407.163 341.541C426.509 299.106 428.992 247.732 428.992 207.717C428.992 204.265 426.194 201.467 422.742 201.467C392.295 201.467 367.524 176.697 367.524 146.25C367.524 142.798 364.727 140 361.274 140H238.342C234.89 140 232.092 142.798 232.092 146.25C232.092 153.069 230.862 159.729 228.435 166.042C227.197 169.265 228.804 172.881 232.026 174.119C235.249 175.356 238.865 173.75 240.103 170.527C242.334 164.719 243.74 158.679 244.307 152.5H355.31C358.284 184.856 384.116 210.693 416.47 213.677C415.828 302.329 400.068 386.98 299.807 414.697C199.546 386.982 183.789 302.332 183.145 213.679C189.319 213.113 195.354 211.707 201.157 209.478C204.377 208.237 205.986 204.624 204.749 201.401C203.511 198.179 199.895 196.57 196.672 197.808C190.356 200.237 183.696 201.467 176.875 201.467C173.423 201.467 170.625 204.265 170.625 207.717C170.625 247.732 173.105 299.106 192.454 341.541C197.229 352.017 202.92 361.665 209.475 370.43L172.456 407.449C170.784 409.119 170.198 411.592 170.942 413.833C171.687 416.077 173.633 417.71 175.972 418.052L207.905 422.72L212.573 454.653C212.915 456.992 214.548 458.938 216.792 459.683C217.437 459.897 218.098 460 218.757 460C220.388 460 221.987 459.36 223.176 458.169L265.808 415.537C275.806 420.21 286.619 424.111 298.191 427.212C298.721 427.354 299.265 427.424 299.807 427.424C300.352 427.424 300.896 427.354 301.426 427.212C312.998 424.111 323.809 420.21 333.809 415.537L376.438 458.169C377.629 459.36 379.226 460 380.859 460C381.516 460 382.18 459.897 382.825 459.683C385.068 458.938 386.702 456.992 387.043 454.653L391.711 422.72L423.645 418.052C425.984 417.71 427.93 416.077 428.674 413.833C429.416 411.592 428.831 409.119 427.161 407.449L390.142 370.43Z" fill="#BF9C56"/>
</svg>
`,
  },
  {
    label: "Удобство",
    title: "Долговечность и надежность",
    desc: "Цистерна и баки для воды выполнены из нержавеющей стали, что значительно увеличивает срок службы;<br>Толщина стенок основной цистерны и баков для воды 5 мм;<br>V-образные ребра жесткости по всей длине баков для воды повышают устойчивость к деформации;<br>Вся водяная система (соединения, трубы, штуцера, и т.д.) выполнены из нержавеющей стали для предотвращения образования и попадания коррозии в насосы высокого давления;<br>Для более высокой надежности, дополнительно установлен фильтр Jurop на водяной системе для защиты насоса высокого давления.",
    svg: `<svg width="600" height="600" viewBox="0 0 600 600" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="600" height="600" fill="#F7F7F7"/>
  <path d="M366.516 350.125C369.421 351.987 373.289 351.143 375.151 348.24C398.604 311.697 402.671 262.769 403.691 229.146C403.777 226.328 401.965 223.804 399.27 222.979C373.616 215.139 353.674 195.127 345.928 169.446C345.132 166.807 342.703 165 339.946 165H259.67C256.914 165 254.482 166.807 253.687 169.446C245.94 195.127 225.999 215.139 200.344 222.979C197.649 223.804 195.84 226.328 195.923 229.146C196.931 262.332 200.908 310.662 223.733 347.09C240.076 373.176 264.363 390.859 297.979 401.147C298.574 401.331 299.19 401.421 299.807 401.421C300.425 401.421 301.04 401.331 301.636 401.147C314.998 397.058 327.07 391.697 337.517 385.215C340.452 383.396 341.355 379.543 339.534 376.609C337.715 373.677 333.86 372.773 330.928 374.592C321.87 380.215 311.409 384.929 299.807 388.625C270.142 379.182 248.709 363.411 234.326 340.454C214.126 308.215 209.778 264.868 208.577 233.403C234.553 223.975 254.895 203.53 264.19 177.5H335.425C344.719 203.53 365.061 223.975 391.038 233.403C389.822 265.273 385.381 309.155 364.631 341.487C362.769 344.392 363.611 348.259 366.516 350.125Z" fill="#BF9C56"/>
  <path d="M390.142 370.43C396.694 361.665 402.385 352.017 407.163 341.541C426.509 299.106 428.992 247.732 428.992 207.717C428.992 204.265 426.194 201.467 422.742 201.467C392.295 201.467 367.524 176.697 367.524 146.25C367.524 142.798 364.727 140 361.274 140H238.342C234.89 140 232.092 142.798 232.092 146.25C232.092 153.069 230.862 159.729 228.435 166.042C227.197 169.265 228.804 172.881 232.026 174.119C235.249 175.356 238.865 173.75 240.103 170.527C242.334 164.719 243.74 158.679 244.307 152.5H355.31C358.284 184.856 384.116 210.693 416.47 213.677C415.828 302.329 400.068 386.98 299.807 414.697C199.546 386.982 183.789 302.332 183.145 213.679C189.319 213.113 195.354 211.707 201.157 209.478C204.377 208.237 205.986 204.624 204.749 201.401C203.511 198.179 199.895 196.57 196.672 197.808C190.356 200.237 183.696 201.467 176.875 201.467C173.423 201.467 170.625 204.265 170.625 207.717C170.625 247.732 173.105 299.106 192.454 341.541C197.229 352.017 202.92 361.665 209.475 370.43L172.456 407.449C170.784 409.119 170.198 411.592 170.942 413.833C171.687 416.077 173.633 417.71 175.972 418.052L207.905 422.72L212.573 454.653C212.915 456.992 214.548 458.938 216.792 459.683C217.437 459.897 218.098 460 218.757 460C220.388 460 221.987 459.36 223.176 458.169L265.808 415.537C275.806 420.21 286.619 424.111 298.191 427.212C298.721 427.354 299.265 427.424 299.807 427.424C300.352 427.424 300.896 427.354 301.426 427.212C312.998 424.111 323.809 420.21 333.809 415.537L376.438 458.169C377.629 459.36 379.226 460 380.859 460C381.516 460 382.18 459.897 382.825 459.683C385.068 458.938 386.702 456.992 387.043 454.653L391.711 422.72L423.645 418.052C425.984 417.71 427.93 416.077 428.674 413.833C429.416 411.592 428.831 409.119 427.161 407.449L390.142 370.43Z" fill="#BF9C56"/>
</svg>
`,
  },
];

// --- DOM refs ---
const tablist = document.getElementById("tablist");
const artArea = document.getElementById("artArea");
const contentTitle = document.getElementById("contentTitle");
const contentDesc = document.getElementById("contentDesc");
const contentArea = document.getElementById("contentArea");
const autoCycleCheckbox = document.getElementById("autoCycle");

let activeIndex = 0;
let cycleInterval = null;

// create top buttons
items.forEach((it, idx) => {
  const btn = document.createElement("button");
  btn.className = "tab-btn";
  btn.id = `tab-${idx}`;
  btn.setAttribute("role", "tab");
  btn.setAttribute("aria-selected", "false");
  btn.setAttribute("data-index", idx);
  btn.type = "button";
  btn.innerHTML = `${it.label}`;
  btn.addEventListener("click", () => activateTab(idx, true));
  tablist.appendChild(btn);
});

// activate tab (bounds handled inside)
function activateTab(idx, userTriggered = false) {
  if (idx < 0) idx = items.length - 1;
  if (idx >= items.length) idx = 0;

  // update aria-selected and focus if user triggered
  Array.from(tablist.children).forEach((b, i) => {
    b.setAttribute("aria-selected", i === idx ? "true" : "false");
    if (i === idx && userTriggered) b.focus();
  });

  // update content
  const item = items[idx];
  artArea.innerHTML = item.svg;
  contentTitle.textContent = item.title;
  contentDesc.textContent = item.desc;
  contentArea.setAttribute("aria-labelledby", `tab-${idx}`);

  activeIndex = idx;

  // if user clicked and auto-cycle is on, briefly pause cycle
  if (userTriggered && autoCycleCheckbox.checked) {
    stopCycle();
    setTimeout(startCycle, 4000);
  }
}

// keyboard navigation
// document.addEventListener("keydown", (e) => {
//   if (e.key === "ArrowLeft") activateTab(activeIndex - 1, true);
//   else if (e.key === "ArrowRight") activateTab(activeIndex + 1, true);
//   else if (e.key === "Home") activateTab(0, true);
//   else if (e.key === "End") activateTab(items.length - 1, true);
// });

// auto cycle
function startCycle() {
  stopCycle();
  cycleInterval = setInterval(() => activateTab(activeIndex + 1, false), 3000);
}
function stopCycle() {
  if (cycleInterval) {
    clearInterval(cycleInterval);
    cycleInterval = null;
  }
}
autoCycleCheckbox.addEventListener("change", (e) =>
  e.target.checked ? startCycle() : stopCycle(),
);

// initial default: Tab 1 (index 0)
window.addEventListener("load", () => activateTab(0, false));
